<div class="p-3 mb-2 bg-info bg-opacity-25">
    <!-- search bar -->
    <div class="input-group mb-3">
        <input type="text" class="form-control" placeholder="Search for ... " [(ngModel)]="keyword"
            (search)="filterByKeyword()" aria-label="Search for ... " aria-describedby="button-addon2" />
        <button class="btn btn-outline-secondary" type="button" id="button-addon2" (click)="filterByKeyword()">
            Button
        </button>
    </div>
</div>

<div>
    <div class="card m-4">
        <div class="card-header d-flex bd-highlight">
            <h6 class="flex-grow-1 bd-highlight">Filter</h6>
            <button class="btn btn-primary bd-highlight display-3" type="button" [attr.aria-expanded]="!drop"
                aria-controls="collapseBasic" (click)='updateCollapse()'>
                {{drop ? '-' : '+'}}
            </button>
        </div>

        <div id="collapseBasic" [collapse]="drop" [isAnimated]="true">
            <div class="card card-body">
                <div class="container px-4">
                    <div class="row gx-5">

                        <div class="col-12 col-md-6">
                            <div class="p-3">
                                <span class="px-3">Gender</span>
                                <div class="form-check form-check-inline">
                                    <label class="form-check-label radio-inline p-1" for="genderRadio1">
                                        <input class="form-check-input" type="radio" name="gender" id="genderRadio1"
                                            value="male" [(ngModel)]="gender" (change)="onGenderChange()" /> Male
                                    </label>




                                    <div class="form-check form-check-inline">
                                        <label class="form-check-label radio-inline" for="genderRadio2">
                                            <input class="form-check-input" type="radio" name="gender" id="genderRadio2"
                                                value="female" [(ngModel)]="gender" (change)="onGenderChange()" />
                                            Female
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-md-6">
                                <div class="p-3">
                                    <span class="px-3 m-1">Status</span>
                                    <div class="form-check form-check-inline">
                                        <label class="form-check-label" for="statusRadio1">
                                            <input class="form-check-input pl-3" type="radio" name="status"
                                                id="statusRadio1" id="statusRadio1" value="alive" [(ngModel)]="status"
                                                (change)="onStatusChange()" />
                                            Alive</label>
                                    </div>

                                    <div class="form-check form-check-inline">
                                        <label class="form-check-label" for="statusRadio2">
                                            <input class="form-check-input" type="radio" name="status" id="statusRadio2"
                                                value="deceased" [(ngModel)]="status" (change)="onStatusChange()" />
                                            Deceased</label>
                                    </div>
                                </div>

                            </div>
                        </div>

                        <div class="row gx-5">
                            <div class="col-12 col-md-6">
                                <div class="d-flex flex-row p-3">
                                    <div class="px-3 text-wrap text-end" style="width: 8rem;">Chinese Ethnic Group</div>
                                    <div class="form-floating col-6">
                                        <select class="form-select m-0" id="groupSelect"
                                            aria-label="Floating label select example" (change)="onGroupChange()"
                                            style="max-height:10px">
                                            <option [value]="group.value" *ngFor="let group of groups" name="groupName">
                                                {{group.viewValue}}
                                            </option>
                                        </select>


                                    </div>
                                </div>

                            </div>
                            <div class="col-12 col-md-6">

                                <div class="d-flex flex-row p-3">
                                    <span class="px-3">Year</span>
                                    <div class="col-6 form-group">
                                        <input type="text" class="form-control" bsDatepicker id="datepicker"
                                            [bsConfig]="{ adaptivePosition: true }" [bsValue]="" [(ngModel)]="date"
                                            >
                                    </div>


                                </div>

                            </div>

                        </div>

                        <div class="row gx-5">
                            <div class="col-12 col-md-6">

                                <div class="d-flex flex-row p-3">
                                    <span class="px-3">Occupation</span>
                                    <div class="form-floating col-6">

                                        <select class="form-select" style="max-height:10px" id="occupationSelect"
                                            aria-label="Floating label select example" (change)="onOccupationChange()">

                                            <!-- <option *ngFor="let occupation of occupation" >{{occupation.viewValue}}
                                        </option> -->
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>

                <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                    <button class="btn btn-light me-md-2" type="button" (click)='clearClick()'>Clear</button>
                    <button class="btn btn-light" type="button" (click)='submitClick()'>Submit</button>
                </div>
            </div>
        </div>



    </div>
    <!-- search -->
    <div class="m-4">
        <!-- search result -->
        <div class="d-flex">
            <div class="col mt-3">
                Search Results {{this.db_result.length}}
            </div>

            <div class="d-flex flex-row-reverse">

                <div class="m-3">| Order by: A-Z</div>
                <div class="p-2">
                    <select class="form-select m-0" style="max-height:40px" id="viewSelect" aria-label="View select"
                        (change)="onViewChange()">
                        <option selected>List</option>
                        <option>Grid</option>
                    </select>
                </div>
                <div class="my-3 ps-3">View</div>

                <div class="p-2">
                    <select class="form-select m-0" style="max-height:40px" id="pageSelect" (change)="onPerPageChange()"
                        aria-label="Result per page select">
                        <option selected>50</option>
                        <option value="1">100</option>
                        <option value="2">10</option>
                        <option value="3">1</option>

                    </select>
                </div>
                <div class="mt-3">Result per page</div>
            </div>

        </div>

        <div class="d-flex  border-bottom border-danger">
            <div class="col text-primary">
                {{this.currentLetter}}
            </div>

            <div class="btn-group">
                <button class="btn btn-link" *ngFor="let letter of letters"
                    [ngClass]="currentLetter === letter ? 'btn-danger' : ''" (click)="lettersBtnClick(letter)">
                    {{letter}}
                </button>
            </div>

        </div>

        <!-- display search results -->
        
        <div *ngIf="curView === 'List'; else elseBlock">
            <div class="row p-4 my-1 bg-primary rounded-pill" name="searchLayout" *ngFor="let r of db_result">

                <div class="pe-5">
                    <img src="assets\browsepage\tempprofile.png" class="rounded-circle border" width="100vw"
                        height="100vw">
                </div>
                <div class="flex-grow-1">
                    <div>{{r.full_name}}</div>
                    <div class="pb-3">{{r.workplace}}</div>
                    <div>{{r.description}}</div>
                </div>

            </div>
        </div>
        <ng-template #elseBlock>
            <div class="row" name="searchLayout" *ngFor="let r of db_result| UpdateRowsPipe:5">
                <div class="col p-4 my-1 bg-primary text-truncate" style="height: 20vw; width: 20vw" *ngFor="let product of r">
               

                        <img src="assets\browsepage\tempprofile.png" class="rounded-circle border" width="50vw"
                            height="50vw">

                        <div >
                            <div>{{product.full_name}}</div>
                            <div class="pb-3">{{product.workplace}}</div>
                            <div class="">{{product.description}}</div>
                        </div>

                    
                </div>
            </div>
        </ng-template>

 

        <!-- search nav -->
        <div class="d-flex flex-row-reverse">
            <div class="p-2 bd-highlight">####</div>

            <nav aria-label="Page navigation">
                <ul class="pagination">
                    <li class="page-item">
                        <a class="page-link" href="#" aria-label="Previous">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>
                    <li class="page-item"><a class="page-link" href="#">1</a></li>
                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                    <li class="page-item"><a class="page-link" href="#">...</a></li>
                    <li class="page-item"><a class="page-link" href="#">38</a></li>
                    <li class="page-item"><a class="page-link" href="#">39</a></li>
                    <li class="page-item"><a class="page-link" href="#">40</a></li>
                    <li class="page-item">
                        <a class="page-link" href="#" aria-label="Next">
                            <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                </ul>
            </nav>

            <div class="p-2 bd-highlight">page 1 of ####</div>
        </div>

    </div>
</div>



<!-- profile -->
<div class="bg-dark">

    <div class="pt-4">
        <div class="d-flex pb-5 pt-5 pe-5 my-5 bg-light rounded-start rounded-pill col-9 align-items-center "
            style="padding-left: 8em; max-height:200px">
            <div class="pe-5 ms-5 ps-5">
                <img src="assets\browsepage\tempprofile.png" class="rounded-circle border" width="300vw" height="300vh">
            </div>
            <div class="flex-grow-1 ">
                <div>Name</div>
                <div class="pb-3">Occupation</div>
            </div>
            <div style="padding-left: 20em;">
                <a class="btn btn-primary " href="#" role="button">Link</a>
            </div>
        </div>


        <div class="d-flex bg-light pb-4 pt-4 pe-4 m-5 " style="padding-left: 15em;">
            <div class="pe-5 w-10 ms-5 ps-5">
                <div class="pb-3 ">Additional Files</div>
                <div class="d-flex flex-row">
                    <img src="assets\browsepage\fileIcon.png" class="border border-white " width="20" height="20">
                    <div class="ps-2">Memoir</div>
                </div>
                <div class="d-flex flex-row">
                    <img src="assets\browsepage\fileIcon.png" class="border border-white" width="20" height="20">
                    <div class="ps-2">Link Name</div>
                </div>
                <div class="d-flex flex-row">
                    <img src="assets\browsepage\fileIcon.png" class="border border-white" width="20" height="20">
                    <div class="ps-2">Link Name</div>
                </div>

            </div>
            <div class="flex-grow-1">

                <div class="card w-50" style="min-height:200px">
                    <div class="card-body">
                        <h6 class="card-title">Paragraph Text</h6>
                        <p class="card-text "></p>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>